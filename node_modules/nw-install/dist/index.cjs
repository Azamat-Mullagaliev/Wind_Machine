var W=Object.create;var $=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var E=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty;var H=(r,n)=>{for(var t in n)$(r,t,{get:n[t],enumerable:!0})},u=(r,n,t,e)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of A(n))!G.call(r,s)&&s!==t&&$(r,s,{get:()=>n[s],enumerable:!(e=q(n,s))||e.enumerable});return r};var m=(r,n,t)=>(t=r!=null?W(E(r)):{},u(n||!r||!r.__esModule?$(t,"default",{value:r,enumerable:!0}):t,r)),J=r=>u($({},"__esModule",{value:!0}),r);var K={};H(K,{install:()=>I,rename:()=>x});module.exports=J(K);var f=m(require("fs"),1),y=m(require("https"),1),h=m(require("cli-progress"),1),g=new h.default.SingleBar({},h.default.Presets.rect),z=(r,n,t,e,s,a,i,o)=>new Promise((w,l)=>{s!=="https://nwjs.io"&&(console.log("Invalid mirror. Please try again."),l(1));let d=`${a}/v${r}/nwjs${n==="sdk"?"-sdk":""}-v${r}-${t}-${e}.${t==="linux"?"tar.gz":"zip"}`;y.default.get(d,p=>{let k=0;g.start(Number(p.headers["content-length"]),0),p.on("data",c=>{k+=c.length,g.increment(),g.update(k)}),p.on("error",c=>{console.log(c),l(1)}),p.on("end",()=>{g.stop(),w(0)}),f.default.mkdirSync(i,{recursive:!0});let N=f.default.createWriteStream(`${i}/${o}.${t==="linux"?"tar.gz":"zip"}`);p.pipe(N)})});var P=m(require("path"),1),b=m(require("extract-zip"),1),j=m(require("tar"),1),v=(r,n,t)=>new Promise(e=>{r==="linux"?j.default.x({file:`${n}/${t}.tar.gz`,C:`${n}`}).then(()=>{e(0)}):(0,b.default)(P.default.resolve(`${n}/${t}.zip`),{dir:P.default.resolve(`${n}`)}).then(()=>{e(0)})});var S=m(require("fs"),1),B=(r,n,t)=>new Promise((e,s)=>{S.default.rm(`${n}/${t}.${r==="linux"?"tar.gz":"zip"}`,a=>{a&&s(1)}),e(0)});var C=m(require("fs"),1),x=(r,n,t,e,s,a)=>new Promise((i,o)=>{let w=`${s}/nwjs${n==="sdk"?"sdk":""}-v${r}-${t}-${e}`,l=`${s}/${a}`;C.default.rename(w,l,d=>{d&&o(1)}),i(0)});var I=async(r,n,t,e,s,a,i,o)=>{await z(r,n,t,e,s,a,i,o),await v(t,i,o),await B(t,i,o),await x(r,n,t,e,i,o)};0&&(module.exports={install,rename});
