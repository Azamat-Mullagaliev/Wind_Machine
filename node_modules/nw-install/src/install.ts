import { download } from "./download";
import { decompress } from "./decompress";
import { remove } from "./remove";
import { rename } from "./rename";

const install = async (
  version: string,
  flavour: "sdk" | "normal",
  platform: "linux" | "osx" | "win",
  architecture: "ia32" | "x64",
  mirror: "https://nwjs.io",
  downloadUrl: "https://dl.nwjs.io",
  outDir: string,
  outFile: string,
) => {
  await download(
    version,
    flavour,
    platform,
    architecture,
    mirror,
    downloadUrl,
    outDir,
    outFile,
  );
  await decompress(platform, outDir, outFile);
  await remove(platform, outDir, outFile);
  await rename(version, flavour, platform, architecture, outDir, outFile);
};

export { install };
