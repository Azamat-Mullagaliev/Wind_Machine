import fs from "node:fs";

const rename = (
  version: string,
  flavour: "sdk" | "normal",
  platform: "linux" | "osx" | "win",
  architecture: "ia32" | "x64",
  outDir: string,
  outFile: string,
): Promise<number> => {
  return new Promise((resolve, reject) => {
    let oldPath = `${outDir}/nwjs${
      flavour === "sdk" ? "sdk" : ""
    }-v${version}-${platform}-${architecture}`;
    let newPath = `${outDir}/${outFile}`;

    fs.rename(oldPath, newPath, (error) => {
      if (error) {
        reject(1);
      }
    });
    resolve(0);
  });
};

export { rename };
